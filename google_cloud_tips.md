# Various tips concerning Google Cloud

## First steps

### Prerequisities

* You have Google Account linked to the project
* You are able to log into the project https://console.developers.google.com/compute/disks?project=calico-jax
* You are able to create a new instance https://console.developers.google.com/compute/instancesAdd?project=calico-jax
* You installed Google Cloud SDK https://cloud.google.com/sdk/ into your machine. Use Linux or Mac, Windows can be challenging. 

Do not try to connect to a running instance through the web or Google Cloud Shell. With the current firewall setting it will surely fail.

### Before you can start

You will need oauth2 credentials and SSH key. To manage oauth2 credentials for the Google Cloud SDK, run

```
gcloud auth login
```

and after that 

```
gcloud compute --project "calico-jax" ssh --zone "us-central1-c" "whatever"
```

This fails and give you the error but it creates SSH key. You need to send the public SSH key (`.ssh/google_compute_engine.pub`) to admin (=Ben) to add it to the project. 

Your other SSH keys (e.g. previously generated by `ssh-keygen`) are difficult to get authentication. I did not succeed. 

### Log into the instance

Let us assume you want to log into the instance that is already running or create in web interface. For example, let us expect the name of the instance is `rstudio`. The following command should get you there:

```
gcloud compute --project "calico-jax" ssh --zone "us-central1-c" "rstudio"
```

and analogously you can copy the files or folders into the instance 

```
gcloud compute copy-files localfile  rstudio:/whateverfolder --project "calico-jax" --zone "us-central1-c"
```

Similarly, almost anything you can do in the web interface can be also achieved by `gcloud` command, see [the documentation](https://cloud.google.com/sdk/cloudplatform).